import React, { createContext, useContext } from 'react';
import { useTranslation as useI18nTranslation } from 'react-i18next';

// Translation dictionaries
const translations = {
  en: {
    // Navigation
    dashboard: 'Dashboard',
    caseManagement: 'Case Management',
    newCase: 'New Case',
    approvals: 'Approvals',
    invoices: 'Invoices',
    gdprRequests: 'GDPR Requests',
    profile: 'Profile',
    settings: 'Settings',
    userManagement: 'User Management',
    tariffManagement: 'Tariff Management',
    messageTemplates: 'Message Templates',
    retentionPolicy: 'Retention Policy',
    dataProtectionOffice: 'Data Protection Office',
    
    // Common
    search: 'Search',
    filter: 'Filter',
    sort: 'Sort',
    export: 'Export',
    download: 'Download',
    view: 'View',
    edit: 'Edit',
    delete: 'Delete',
    create: 'Create',
    save: 'Save',
    cancel: 'Cancel',
    submit: 'Submit',
    confirm: 'Confirm',
    close: 'Close',
    loading: 'Loading...',
    yes: 'Yes',
    no: 'No',
    all: 'All',
    total: 'Total',
    active: 'Active',
    inactive: 'Inactive',
    pending: 'Pending',
    approved: 'Approved',
    rejected: 'Rejected',
    completed: 'Completed',
    cancelled: 'Cancelled',
    draft: 'Draft',
    sent: 'Sent',
    paid: 'Paid',
    overdue: 'Overdue',
    new: 'New',
    inProgress: 'In Progress',
    awaitingApproval: 'Awaiting Approval',
    legalStage: 'Legal Stage',
    closed: 'Closed',
    
    // Dashboard
    dashboardTitle: 'Dashboard',
    clientDashboard: 'Client Dashboard',
    agentDashboard: 'Agent Dashboard',
    adminDashboard: 'Admin Dashboard',
    dataProtectionDashboard: 'Data Protection Dashboard',
    clientDashboardSubtitle: 'Manage your debt collection cases and invoices',
    agentDashboardSubtitle: 'Manage assigned cases and track progress',
    adminDashboardSubtitle: 'System overview and administrative controls',
    dpoDashboardSubtitle: 'GDPR compliance and data management',
    createNewCase: 'Create New Case',
    viewAllCases: 'View All Cases',
    myCases: 'My Cases',
    recentActivity: 'Recent Activity',
    manageUsers: 'Manage Users',
    reviewApprovals: 'Review Approvals',
    gdprRequestsNav: 'GDPR Requests',
    dpoTools: 'DPO Tools',
    totalCases: 'Total Cases',
    allCasesAccess: 'All cases you have access to',
    activeCases: 'Active Cases',
    currentlyBeingProcessed: 'Currently being processed',
    pendingApprovals: 'Pending Approvals',
    awaitingYourDecision: 'Awaiting your decision',
    successRate: 'Success Rate',
    casesSuccessfullyResolved: 'Cases successfully resolved',
    totalRecovered: 'Total Recovered',
    lifetimeRecoveryAmount: 'Lifetime recovery amount',
    thisMonth: 'This Month',
    monthlyRecoveryProgress: 'Monthly recovery progress',
    outstandingInvoices: 'Outstanding Invoices',
    requireImmediateAttention: 'Require immediate attention',
    recentCases: 'Recent Cases',
    mostRecentlyUpdated: 'Your most recently updated cases',
    pendingActions: 'Pending Actions',
    itemsRequiringAttention: 'Items requiring your attention',
    noCasesFound: 'No cases found',
    allCaughtUp: 'All caught up!',
    noPendingActionsAtThisTime: 'No pending actions at this time',
    systemPerformance: 'System Performance',
    keyPerformanceIndicators: 'Key performance indicators across the platform',
    collectionRate: 'Collection Rate',
    avgRecoveryTime: 'Avg. Recovery Time',
    monthlyTarget: 'Monthly Target',
    
    // Cases
    casesTitle: 'Cases',
    casesDescription: 'Manage debt collection cases and track recovery progress',
    exportCsv: 'Export CSV',
    searchPlaceholder: 'Search by debtor name, email, or reference...',
    filterByStatus: 'Filter by status',
    allStatuses: 'All Statuses',
    newestFirst: 'Newest First',
    oldestFirst: 'Oldest First',
    highestAmount: 'Highest Amount',
    lowestAmount: 'Lowest Amount',
    recentlyUpdated: 'Recently Updated',
    showingResults: 'Showing {count} of {total} cases',
    page: 'Page',
    of: 'of',
    previous: 'Previous',
    next: 'Next',
    reference: 'Reference',
    debtor: 'Debtor',
    amount: 'Amount',
    status: 'Status',
    client: 'Client',
    agent: 'Agent',
    lastUpdated: 'Last Updated',
    noCasesMatch: 'No cases match your filters',
    createFirstCase: 'Create First Case',
    unassigned: 'Unassigned',
    viewDetails: 'View Details',
    
    // Login
    loginTitle: 'Sign In',
    loginDescription: 'Enter your credentials to access your account',
    collectPro: 'CollectPro',
    professionalDebtCollection: 'Professional Debt Collection Platform',
    emailAddress: 'Email Address',
    emailPlaceholder: 'your.email@company.com',
    password: 'Password',
    passwordPlaceholder: 'Enter your password',
    acceptTerms: 'I accept the',
    termsOfService: 'Terms of Service',
    and: 'and',
    privacyPolicy: 'Privacy Policy',
    signIn: 'Sign In',
    signingIn: 'Signing in...',
    demoAccess: 'Demo Access',
    demoAccessDescription: 'Use these credentials to explore different user roles',
    gdprCompliant: 'GDPR Compliant • Secure Authentication',
    dataProtectedWithSecurity: 'Your data is protected with enterprise-grade security',
    termsRequired: 'Terms Required',
    acceptTermsMessage: 'Please accept the Terms of Service and Privacy Policy to continue.',
    welcomeBack: 'Welcome back!',
    successfullyLoggedIn: 'You have been successfully logged in.',
    
    // Sidebar Navigation
    navigation: 'Navigation',
    administration: 'Administration',
    dataProtection: 'Data Protection',
    account: 'Account',
    users: 'Users',
    tariffs: 'Tariffs',
    templates: 'Templates',
    retention: 'Retention Policy',
    dpoNav: 'DPO Dashboard',
    debtCollectionPlatform: 'Debt Collection Platform',
    
    // Approvals
    approvalsManagement: 'Approvals Management',
    reviewAndApprove: 'Review and approve requests',
    trackApprovalRequests: 'Track your approval requests',
    pendingReviews: 'Pending Review',
    totalRequests: 'Total Requests',
    legalEscalation: 'Legal Escalation',
    expenseApproval: 'Expense Approval',
    settlementAgreement: 'Settlement Agreement',
    searchApprovals: 'Search by case name, description, or requester...',
    allStatus: 'All Status',
    allTypes: 'All Types',
    requestType: 'Request Type',
    noApprovalsFound: 'No approval requests found',
    adjustFilters: 'Try adjusting your filters to see more results.',
    approvalsWillAppear: 'Approval requests will appear here when submitted.',
    requestedBy: 'Requested by',
    feeBreakdown: 'Fee Breakdown',
    base: 'Base',
    fee: 'Fee',
    fixed: 'Fixed',
    viewCase: 'View Case',
    reject: 'Reject',
    approve: 'Approve',
    decisionNotes: 'Decision Notes',
    requestApproved: 'Request Approved',
    requestRejected: 'Request Rejected',
    hasBeenApproved: 'has been approved',
    hasBeenRejected: 'has been rejected',
    unauthorized: 'Unauthorized',
    onlyAdminsCanDecide: 'Only administrators can make approval decisions.',
    failedToProcess: 'Failed to process decision. Please try again.',
    
    // Invoices
    invoiceManagement: 'Invoice Management',
    trackAndManageInvoices: 'Track and manage your collection service invoices',
    createInvoice: 'Create Invoice',
    totalInvoices: 'Total Invoices',
    awaitingPayment: 'Awaiting payment',
    searchInvoices: 'Search by invoice number, client, or case...',
    period: 'Period',
    allTime: 'All Time',
    lastMonth: 'Last Month',
    thisYear: 'This Year',
    noInvoicesFound: 'No invoices found',
    invoicesWillAppear: 'Invoices will appear here when created.',
    invoiceNumber: 'Invoice {number}',
    vat: 'VAT',
    dueDate: 'Due Date',
    created: 'Created',
    downloadStarted: 'Download Started',
    downloadingInvoice: 'Downloading invoice {number}',
    reminderSent: 'Reminder Sent',
    paymentReminderSent: 'Payment reminder sent for invoice {number}',
    remind: 'Remind',
    invoiceDetails: 'Invoice Details',
    
    // GDPR Requests
    gdprRequestsTitle: 'GDPR Requests',
    gdprRequestsDescription: 'Manage data privacy requests and ensure GDPR compliance',
    newRequest: 'New Request',
    subjectAccessRequest: 'Subject Access Request',
    rightToErasure: 'Right to Erasure',
    rightToRectification: 'Right to Rectification',
    dataPortability: 'Data Portability',
    rightToObject: 'Right to Object',
    processing: 'Processing',
    searchGdprRequests: 'Search by data subject, description, or requester...',
    rectification: 'Rectification',
    noGdprRequestsFound: 'No GDPR requests found',
    gdprRequestsWillAppear: 'GDPR requests will appear here when submitted.',
    requestId: 'Request ID',
    subject: 'Subject',
    due: 'Due',
    days: 'days',
    progress: 'Progress',
    affectedCases: 'Affected Cases',
    viewRequest: 'View Request',
    downloadCertificate: 'Download Certificate',
    
    // Profile
    profileTitle: 'Profile',
    personalInformation: 'Personal Information',
    managePersonalDetails: 'Manage your personal details and contact information',
    editProfile: 'Edit Profile',
    fullName: 'Full Name',
    enterFullName: 'Enter your full name',
    enterEmail: 'Enter your email',
    phoneNumber: 'Phone Number',
    enterPhoneNumber: 'Enter your phone number',
    department: 'Department',
    enterDepartment: 'Enter your department',
    saveChanges: 'Save Changes',
    accountInformation: 'Account Information',
    accountDetailsAndSecurity: 'View your account details and security information',
    userId: 'User ID',
    role: 'Role',
    accountStatus: 'Account Status',
    memberSince: 'Member Since',
    notProvided: 'Not provided',
    unknown: 'Unknown',
    profileUpdated: 'Profile updated',
    profileUpdatedSuccessfully: 'Your profile has been successfully updated.',
    failedToUpdateProfile: 'Failed to update profile. Please try again.',
    noUserDataAvailable: 'No user data available',
    
    // Settings page
    settingsTitle: 'Settings',
    settingsDescription: 'Manage your account settings and preferences',
    notifications: 'Notifications',
    security: 'Security',
    preferences: 'Preferences',
    privacy: 'Privacy',
    
    // Notification settings
    notificationSettings: 'Notification Settings',
    notificationDescription: 'Configure how you want to receive notifications',
    communicationChannels: 'Communication Channels',
    emailNotifications: 'Email Notifications',
    emailNotificationDesc: 'Receive notifications via email',
    smsNotifications: 'SMS Notifications',
    smsNotificationDesc: 'Receive urgent notifications via SMS',
    marketingCommunications: 'Marketing Communications',
    marketingDesc: 'Receive product updates and promotional content',
    notificationTypes: 'Notification Types',
    caseUpdates: 'Case Updates',
    caseUpdatesDesc: 'Get notified when cases are updated',
    approvalRequests: 'Approval Requests',
    approvalRequestsDesc: 'Get notified about pending approvals',
    gdprRequestsNotif: 'GDPR Requests',
    gdprRequestsDesc: 'Get notified about GDPR-related activities',
    saveNotificationSettings: 'Save Notification Settings',
    
    // Password settings
    changePassword: 'Change Password',
    changePasswordDesc: 'Update your password to keep your account secure',
    currentPassword: 'Current Password',
    currentPasswordPlaceholder: 'Enter current password',
    newPassword: 'New Password',
    newPasswordPlaceholder: 'Enter new password',
    confirmPassword: 'Confirm New Password',
    confirmPasswordPlaceholder: 'Confirm new password',
    updatePassword: 'Update Password',
    
    // Preferences
    preferencesTitle: 'Preferences',
    preferencesDesc: 'Customize your application experience',
    language: 'Language',
    selectLanguage: 'Select language',
    timezone: 'Timezone',
    selectTimezone: 'Select timezone',
    dateFormat: 'Date Format',
    selectDateFormat: 'Select date format',
    currency: 'Currency',
    selectCurrency: 'Select currency',
    savePreferences: 'Save Preferences',
    
    // Header
    logout: 'Logout',
    
    // Toast messages
    settingsUpdated: 'Settings updated',
    notificationSettingsSaved: 'Your notification preferences have been saved.',
    passwordUpdated: 'Password updated',
    passwordChangedSuccess: 'Your password has been successfully changed.',
    preferencesUpdated: 'Preferences updated',
    preferencesSaved: 'Your preferences have been saved.',
    error: 'Error',
    updateSettingsError: 'Failed to update settings. Please try again.',
    updatePasswordError: 'Failed to update password. Please try again.',
    updatePreferencesError: 'Failed to update preferences. Please try again.',
  },
  
  de: {
    // Navigation (keeping translations already done)
    dashboard: 'Dashboard',
    caseManagement: 'Fallverwaltung',
    newCase: 'Neuer Fall',
    approvals: 'Genehmigungen',
    invoices: 'Rechnungen',
    gdprRequests: 'DSGVO-Anfragen',
    profile: 'Profil',
    settings: 'Einstellungen',
    userManagement: 'Benutzerverwaltung',
    tariffManagement: 'Tarifverwaltung',
    messageTemplates: 'Nachrichtenvorlagen',
    retentionPolicy: 'Aufbewahrungsrichtlinie',
    dataProtectionOffice: 'Datenschutzbüro',
    
    // Common
    search: 'Suchen',
    filter: 'Filter',
    sort: 'Sortieren',
    export: 'Exportieren',
    download: 'Herunterladen',
    view: 'Anzeigen',
    edit: 'Bearbeiten',
    delete: 'Löschen',
    create: 'Erstellen',
    save: 'Speichern',
    cancel: 'Abbrechen',
    submit: 'Absenden',
    confirm: 'Bestätigen',
    close: 'Schließen',
    loading: 'Wird geladen...',
    yes: 'Ja',
    no: 'Nein',
    all: 'Alle',
    total: 'Gesamt',
    active: 'Aktiv',
    inactive: 'Inaktiv',
    pending: 'Ausstehend',
    approved: 'Genehmigt',
    rejected: 'Abgelehnt',
    completed: 'Abgeschlossen',
    cancelled: 'Storniert',
    // Preferences
    preferencesTitle: 'Préférences',
  t: (key: string, options?: any) => string;
  changeLanguage: (languageCode: string) => Promise<void>;
  getCurrentLanguage: () => string;
  formatCurrency: (amount: number, currency?: string) => string;
  formatDate: (date: Date | string, options?: Intl.DateTimeFormatOptions) => string;
  formatRelativeTime: (date: Date | string) => string;
    selectLanguage: 'Sélectionner la langue',
    timezone: 'Fuseau horaire',
    selectTimezone: 'Sélectionner le fuseau horaire',
    dateFormat: 'Format de date',
    selectDateFormat: 'Sélectionner le format de date',
    currency: 'Devise',
    selectCurrency: 'Sélectionner la devise',
    savePreferences: 'Enregistrer les préférences',
    
    // Header
    logout: 'Déconnexion',
    
    // Toast messages
    settingsUpdated: 'Paramètres mis à jour',
    notificationSettingsSaved: 'Vos préférences de notification ont été enregistrées.',
    passwordUpdated: 'Mot de passe mis à jour',
    passwordChangedSuccess: 'Votre mot de passe a été changé avec succès.',
    preferencesUpdated: 'Préférences mises à jour',
    preferencesSaved: 'Vos préférences ont été enregistrées.',
    error: 'Erreur',
    updateSettingsError: 'Échec de la mise à jour des paramètres. Veuillez réessayer.',
    updatePasswordError: 'Échec de la mise à jour du mot de passe. Veuillez réessayer.',
    updatePreferencesError: 'Échec de la mise à jour des préférences. Veuillez réessayer.',
  },
  
  es: {
    // Navigation  
    dashboard: 'Panel de control',
    caseManagement: 'Gestión de casos',
    newCase: 'Nuevo caso',
    approvals: 'Aprobaciones',
    invoices: 'Facturas',
    gdprRequests: 'Solicitudes RGPD',
    profile: 'Perfil',
    settings: 'Configuración',
    userManagement: 'Gestión de usuarios',
    tariffManagement: 'Gestión de tarifas',
    messageTemplates: 'Plantillas de mensajes',
    retentionPolicy: 'Política de retención',
    dataProtectionOffice: 'Oficina de protección de datos',
    
    // Common
    search: 'Buscar',
    filter: 'Filtrar',
    sort: 'Ordenar',
    export: 'Exportar',
    download: 'Descargar',
    view: 'Ver',
    edit: 'Editar',
    delete: 'Eliminar',
    create: 'Crear',
    save: 'Guardar',
    cancel: 'Cancelar',
    submit: 'Enviar',
    confirm: 'Confirmar',
    close: 'Cerrar',
    loading: 'Cargando...',
    yes: 'Sí',
    no: 'No',
    all: 'Todos',
    total: 'Total',
    active: 'Activo',
    inactive: 'Inactivo',
    pending: 'Pendiente',
    approved: 'Aprobado',
    rejected: 'Rechazado',
    completed: 'Completado',
    cancelled: 'Cancelado',
    draft: 'Borrador',
    sent: 'Enviado',
    paid: 'Pagado',
    overdue: 'Vencido',
    new: 'Nuevo',
    inProgress: 'En progreso',
    awaitingApproval: 'Esperando aprobación',
    legalStage: 'Etapa legal',
    closed: 'Cerrado',
    
    // Dashboard
    dashboardTitle: 'Panel de control',
    clientDashboard: 'Panel de cliente',
    agentDashboard: 'Panel de agente',
    adminDashboard: 'Panel de administrador',
    dataProtectionDashboard: 'Panel de protección de datos',
    clientDashboardSubtitle: 'Gestiona tus casos de cobranza y facturas',
    agentDashboardSubtitle: 'Gestiona casos asignados y rastrea el progreso',
    adminDashboardSubtitle: 'Vista general del sistema y controles administrativos',
    dpoDashboardSubtitle: 'Cumplimiento RGPD y gestión de datos',
    createNewCase: 'Crear nuevo caso',
    viewAllCases: 'Ver todos los casos',
    myCases: 'Mis casos',
    recentActivity: 'Actividad reciente',
    manageUsers: 'Gestionar usuarios',
    reviewApprovals: 'Revisar aprobaciones',
    gdprRequestsNav: 'Solicitudes RGPD',
    dpoTools: 'Herramientas DPO',
    totalCases: 'Total de casos',
    allCasesAccess: 'Todos los casos a los que tienes acceso',
    activeCases: 'Casos activos',
    currentlyBeingProcessed: 'Actualmente siendo procesados',
    pendingApprovals: 'Aprobaciones pendientes',
    awaitingYourDecision: 'Esperando tu decisión',
    successRate: 'Tasa de éxito',
    casesSuccessfullyResolved: 'Casos resueltos exitosamente',
    totalRecovered: 'Total recuperado',
    lifetimeRecoveryAmount: 'Cantidad de recuperación de por vida',
    thisMonth: 'Este mes',
    monthlyRecoveryProgress: 'Progreso de recuperación mensual',
    outstandingInvoices: 'Facturas pendientes',
    requireImmediateAttention: 'Requieren atención inmediata',
    recentCases: 'Casos recientes',
    mostRecentlyUpdated: 'Tus casos actualizados más recientemente',
    pendingActions: 'Acciones pendientes',
    itemsRequiringAttention: 'Elementos que requieren tu atención',
    noCasesFound: 'No se encontraron casos',
    allCaughtUp: '¡Todo al día!',
    noPendingActionsAtThisTime: 'No hay acciones pendientes por ahora',
    systemPerformance: 'Rendimiento del sistema',
    keyPerformanceIndicators: 'Indicadores clave de rendimiento de la plataforma',
    collectionRate: 'Tasa de cobranza',
    avgRecoveryTime: 'Tiempo promedio de recuperación',
    monthlyTarget: 'Objetivo mensual',
    
    // Cases
    casesTitle: 'Casos',
    casesDescription: 'Gestionar casos de cobranza y rastrear el progreso de recuperación',
    exportCsv: 'Exportar CSV',
    searchPlaceholder: 'Buscar por nombre del deudor, email o referencia...',
    filterByStatus: 'Filtrar por estado',
    allStatuses: 'Todos los estados',
    newestFirst: 'Más nuevos primero',
    oldestFirst: 'Más antiguos primero',
    highestAmount: 'Cantidad más alta',
    lowestAmount: 'Cantidad más baja',
    recentlyUpdated: 'Recientemente actualizado',
    showingResults: 'Mostrando {count} de {total} casos',
    page: 'Página',
    of: 'de',
    previous: 'Anterior',
    next: 'Siguiente',
    reference: 'Referencia',
    debtor: 'Deudor',
    amount: 'Cantidad',
    status: 'Estado',
    client: 'Cliente',
    agent: 'Agente',
    lastUpdated: 'Última actualización',
    noCasesMatch: 'Ningún caso coincide con tus filtros',
    createFirstCase: 'Crear primer caso',
    unassigned: 'Sin asignar',
    viewDetails: 'Ver detalles',
    
    // Login
    loginTitle: 'Iniciar sesión',
    loginDescription: 'Ingresa tus credenciales para acceder a tu cuenta',
    collectPro: 'CollectPro',
    professionalDebtCollection: 'Plataforma profesional de cobranza',
    emailAddress: 'Dirección de correo',
    emailPlaceholder: 'tu.email@empresa.com',
    password: 'Contraseña',
    passwordPlaceholder: 'Ingresa tu contraseña',
    acceptTerms: 'Acepto los',
    termsOfService: 'Términos de servicio',
    and: 'y',
    privacyPolicy: 'Política de privacidad',
    signIn: 'Iniciar sesión',
    signingIn: 'Iniciando sesión...',
    demoAccess: 'Acceso de demostración',
    demoAccessDescription: 'Usa estas credenciales para explorar diferentes roles de usuario',
    gdprCompliant: 'Cumple con RGPD • Autenticación segura',
    dataProtectedWithSecurity: 'Tus datos están protegidos con seguridad de nivel empresarial',
    termsRequired: 'Términos requeridos',
    acceptTermsMessage: 'Por favor acepta los Términos de Servicio y Política de Privacidad para continuar.',
    welcomeBack: '¡Bienvenido de vuelta!',
    successfullyLoggedIn: 'Has iniciado sesión exitosamente.',
    
    // Sidebar Navigation
    navigation: 'Navegación',
    administration: 'Administración',
    dataProtection: 'Protección de datos',
    account: 'Cuenta',
    users: 'Usuarios',
    tariffs: 'Tarifas',
    templates: 'Plantillas',
    retention: 'Política de retención',
    dpoNav: 'Panel DPO',
    debtCollectionPlatform: 'Plataforma de cobranza',
    
    // Settings page
    settingsTitle: 'Configuración',
    settingsDescription: 'Gestiona la configuración de tu cuenta y preferencias',
    notifications: 'Notificaciones',
    security: 'Seguridad',
    preferences: 'Preferencias',
    privacy: 'Privacidad',
    
    // Notification settings
    notificationSettings: 'Configuración de notificaciones',
    notificationDescription: 'Configura cómo quieres recibir notificaciones',
    communicationChannels: 'Canales de comunicación',
    emailNotifications: 'Notificaciones por correo',
    emailNotificationDesc: 'Recibir notificaciones por correo electrónico',
    smsNotifications: 'Notificaciones SMS',
    smsNotificationDesc: 'Recibir notificaciones urgentes por SMS',
    marketingCommunications: 'Comunicaciones de marketing',
    marketingDesc: 'Recibir actualizaciones de productos y contenido promocional',
    notificationTypes: 'Tipos de notificación',
    caseUpdates: 'Actualizaciones de casos',
    caseUpdatesDesc: 'Ser notificado cuando se actualicen los casos',
    approvalRequests: 'Solicitudes de aprobación',
    approvalRequestsDesc: 'Ser notificado sobre aprobaciones pendientes',
    gdprRequestsNotif: 'Solicitudes RGPD',
    gdprRequestsDesc: 'Ser notificado sobre actividades relacionadas con RGPD',
    saveNotificationSettings: 'Guardar configuración de notificaciones',
    
    // Password settings
    changePassword: 'Cambiar contraseña',
    changePasswordDesc: 'Actualiza tu contraseña para mantener tu cuenta segura',
    currentPassword: 'Contraseña actual',
    currentPasswordPlaceholder: 'Ingresa la contraseña actual',
    newPassword: 'Nueva contraseña',
    newPasswordPlaceholder: 'Ingresa la nueva contraseña',
    confirmPassword: 'Confirmar nueva contraseña',
    confirmPasswordPlaceholder: 'Confirma la nueva contraseña',
    updatePassword: 'Actualizar contraseña',
    
    // Preferences
    preferencesTitle: 'Preferencias',
    preferencesDesc: 'Personaliza tu experiencia de aplicación',
    language: 'Idioma',
    selectLanguage: 'Seleccionar idioma',
    timezone: 'Zona horaria',
    selectTimezone: 'Seleccionar zona horaria',
    dateFormat: 'Formato de fecha',
    selectDateFormat: 'Seleccionar formato de fecha',
    currency: 'Moneda',
    selectCurrency: 'Seleccionar moneda',
    savePreferences: 'Guardar preferencias',
    
    // Header
    logout: 'Cerrar sesión',
    
    // Toast messages
    settingsUpdated: 'Configuración actualizada',
    notificationSettingsSaved: 'Tus preferencias de notificación han sido guardadas.',
    passwordUpdated: 'Contraseña actualizada',
    passwordChangedSuccess: 'Tu contraseña ha sido cambiada exitosamente.',
    preferencesUpdated: 'Preferencias actualizadas',
    preferencesSaved: 'Tus preferencias han sido guardadas.',
    error: 'Error',
    updateSettingsError: 'Error al actualizar configuración. Por favor, inténtalo de nuevo.',
    updatePasswordError: 'Error al actualizar contraseña. Por favor, inténtalo de nuevo.',
    updatePreferencesError: 'Error al actualizar preferencias. Por favor, inténtalo de nuevo.',
  },
  
  sq: {
    // Navigation
    dashboard: 'Paneli kryesor',
    caseManagement: 'Menaxhimi i rasteve',
    newCase: 'Rast i ri',
    approvals: 'Miratim',
    invoices: 'Fatura',
    gdprRequests: 'Kërkesa GDPR',
    profile: 'Profili',
    settings: 'Cilësimet',
    userManagement: 'Menaxhimi i përdoruesve',
    tariffManagement: 'Menaxhimi i tarifave',
    messageTemplates: 'Shabllonet e mesazheve',
    retentionPolicy: 'Politika e ruajtjes',
    dataProtectionOffice: 'Zyra e mbrojtjes së të dhënave',
    
    // Common
    search: 'Kërko',
    filter: 'Filtro',
    sort: 'Rendit',
    export: 'Eksporto',
    download: 'Shkarko',
    view: 'Shiko',
    edit: 'Redakto',
    delete: 'Fshi',
    create: 'Krijo',
    save: 'Ruaj',
    cancel: 'Anulo',
    submit: 'Dërgo',
    confirm: 'Konfirmo',
    close: 'Mbyll',
    loading: 'Po ngarkohet...',
    yes: 'Po',
    no: 'Jo',
    all: 'Të gjitha',
    total: 'Totali',
    active: 'Aktiv',
    inactive: 'Joaktiv',
    pending: 'Në pritje',
    approved: 'Miratuar',
    rejected: 'Refuzuar',
    completed: 'Përfunduar',
    cancelled: 'Anuluar',
    draft: 'Draft',
    sent: 'Dërguar',
    paid: 'Paguar',
    overdue: 'Me vonesë',
    new: 'I ri',
    inProgress: 'Në proces',
    awaitingApproval: 'Duke pritur miratim',
    legalStage: 'Fazë ligjore',
    closed: 'Mbyllur',
    
    // Dashboard
    dashboardTitle: 'Paneli kryesor',
    clientDashboard: 'Paneli i klientit',
    agentDashboard: 'Paneli i agjentit',
    adminDashboard: 'Paneli i administratorit',
    dataProtectionDashboard: 'Paneli i mbrojtjes së të dhënave',
    clientDashboardSubtitle: 'Menaxho rastet e arkëtimit dhe faturat',
    agentDashboardSubtitle: 'Menaxho rastet e caktuara dhe ndiq progresin',
    adminDashboardSubtitle: 'Përmbledhje e sistemit dhe kontrollet administrative',
    dpoDashboardSubtitle: 'Përputhshmëria GDPR dhe menaxhimi i të dhënave',
    createNewCase: 'Krijo rast të ri',
    viewAllCases: 'Shiko të gjitha rastet',
    myCases: 'Rastet e mia',
    recentActivity: 'Aktiviteti i fundit',
    manageUsers: 'Menaxho përdoruesit',
    reviewApprovals: 'Shqyrto miratimet',
    gdprRequestsNav: 'Kërkesa GDPR',
    dpoTools: 'Mjetet DPO',
    totalCases: 'Rastet totale',
    allCasesAccess: 'Të gjitha rastet që keni qasje',
    activeCases: 'Rastet aktive',
    currentlyBeingProcessed: 'Aktualisht duke u procesuar',
    pendingApprovals: 'Miratimet në pritje',
    awaitingYourDecision: 'Duke pritur vendimin tuaj',
    successRate: 'Norma e suksesit',
    casesSuccessfullyResolved: 'Rastet e zgjidhura me sukses',
    totalRecovered: 'Totali i rikuperuar',
    lifetimeRecoveryAmount: 'Shuma e rikuperimit gjatë jetës',
    thisMonth: 'Ky muaj',
    monthlyRecoveryProgress: 'Progresi mujor i rikuperimit',
    outstandingInvoices: 'Faturat e papaguara',
    requireImmediateAttention: 'Kërkojnë vëmendje të menjëhershme',
    recentCases: 'Rastet e fundit',
    mostRecentlyUpdated: 'Rastet tuaja të përditësuara së fundmi',
    pendingActions: 'Veprimet në pritje',
    itemsRequiringAttention: 'Artikuj që kërkojnë vëmendjen tuaj',
    noCasesFound: 'Nuk u gjetën raste',
    allCaughtUp: 'Të gjitha në rregull!',
    noPendingActionsAtThisTime: 'Asnjë veprim në pritje në këtë kohë',
    systemPerformance: 'Performanca e sistemit',
    keyPerformanceIndicators: 'Treguesit kryesorë të performancës të platformës',
    collectionRate: 'Norma e arkëtimit',
    avgRecoveryTime: 'Koha mesatare e rikuperimit',
    monthlyTarget: 'Objektivi mujor',
    
    // Cases
    casesTitle: 'Rastet',
    casesDescription: 'Menaxho rastet e arkëtimit dhe ndiq progresin e rikuperimit',
    exportCsv: 'Eksporto CSV',
    searchPlaceholder: 'Kërko sipas emrit të debitorit, email-it ose referencës...',
    filterByStatus: 'Filtro sipas statusit',
    allStatuses: 'Të gjitha statuset',
    newestFirst: 'Më të rejat së pari',
    oldestFirst: 'Më të vjetrat së pari',
    highestAmount: 'Shuma më e lartë',
    lowestAmount: 'Shuma më e ulët',
    recentlyUpdated: 'Përditësuar së fundmi',
    showingResults: 'Duke treguar {count} nga {total} raste',
    page: 'Faqe',
    of: 'nga',
    previous: 'E mëparshme',
    next: 'Tjetra',
    reference: 'Referenca',
    debtor: 'Debitori',
    amount: 'Shuma',
    status: 'Statusi',
    client: 'Klienti',
    agent: 'Agjenti',
    lastUpdated: 'Përditësimi i fundit',
    noCasesMatch: 'Asnjë rast nuk përputhet me filtrat tuaj',
    createFirstCase: 'Krijo rastin e parë',
    unassigned: 'I pacaktuar',
    viewDetails: 'Shiko detajet',
    
    // Login
    loginTitle: 'Hyni',
    loginDescription: 'Futni të dhënat tuaja për të hyrë në llogarinë tuaj',
    collectPro: 'CollectPro',
    professionalDebtCollection: 'Platforma profesionale e arkëtimit',
    emailAddress: 'Adresa e email-it',
    emailPlaceholder: 'email.juaj@kompania.com',
    password: 'Fjalëkalimi',
    passwordPlaceholder: 'Futni fjalëkalimin tuaj',
    acceptTerms: 'Unë pranoj',
    termsOfService: 'Kushtet e shërbimit',
    and: 'dhe',
    privacyPolicy: 'Politika e privatësisë',
    signIn: 'Hyni',
    signingIn: 'Duke hyrë...',
    demoAccess: 'Qasja demo',
    demoAccessDescription: 'Përdorni këto të dhëna për të eksploruar role të ndryshme përdoruesi',
    gdprCompliant: 'I përputhshëm me GDPR • Autentikim i sigurt',
    dataProtectedWithSecurity: 'Të dhënat tuaja janë të mbrojtura me siguri të nivelit të ndërmarrjes',
    termsRequired: 'Kushtet e kërkuara',
    acceptTermsMessage: 'Ju lutemi pranoni Kushtet e Shërbimit dhe Politikën e Privatësisë për të vazhduar.',
    welcomeBack: 'Mirë se erdhët përsëri!',
    successfullyLoggedIn: 'Jeni kyçur me sukses.',
    
    // Sidebar Navigation
    navigation: 'Navigimi',
    administration: 'Administrimi',
    dataProtection: 'Mbrojtja e të dhënave',
    account: 'Llogaria',
    users: 'Përdoruesit',
    tariffs: 'Tarifat',
    templates: 'Shabllonet',
    retention: 'Politika e ruajtjes',
    dpoNav: 'Paneli DPO',
    debtCollectionPlatform: 'Platforma e arkëtimit',
    
    // Settings page
    settingsTitle: 'Cilësimet',
    settingsDescription: 'Menaxho cilësimet e llogarisë dhe preferencat tuaja',
    notifications: 'Njoftimet',
    security: 'Siguria',
    preferences: 'Preferencat',
    privacy: 'Privatësia',
    
    // Notification settings
    notificationSettings: 'Cilësimet e njoftimeve',
    notificationDescription: 'Konfiguro se si dëshiron të marrësh njoftimet',
    communicationChannels: 'Kanalet e komunikimit',
    emailNotifications: 'Njoftimet me email',
    emailNotificationDesc: 'Merr njoftimet përmes email-it',
    smsNotifications: 'Njoftimet SMS',
    smsNotificationDesc: 'Merr njoftimet urgjente përmes SMS-it',
    marketingCommunications: 'Komunikimet e marketingut',
    marketingDesc: 'Merr përditësime produkti dhe përmbajtje promovuese',
    notificationTypes: 'Llojet e njoftimeve',
    caseUpdates: 'Përditësimet e rasteve',
    caseUpdatesDesc: 'Merr njoftim kur përditësohen rastet',
    approvalRequests: 'Kërkesa për miratim',
    aprovalRequestsDesc: 'Merr njoftim për miratimet në pritje',
    gdprRequestsNotif: 'Kërkesa GDPR',
    gdprRequestsDesc: 'Merr njoftim për aktivitetet e lidhura me GDPR',
    saveNotificationSettings: 'Ruaj cilësimet e njoftimeve',
    
    // Password settings
    changePassword: 'Ndrysho fjalëkalimin',
    changePasswordDesc: 'Përditëso fjalëkalimin tuaj për të mbajtur llogarinë të sigurt',
    currentPassword: 'Fjalëkalimi aktual',
    currentPasswordPlaceholder: 'Shkruani fjalëkalimin aktual',
    newPassword: 'Fjalëkalimi i ri',
    newPasswordPlaceholder: 'Shkruani fjalëkalimin e ri',
    confirmPassword: 'Konfirmo fjalëkalimin e ri',
    confirmPasswordPlaceholder: 'Konfirmo fjalëkalimin e ri',
    updatePassword: 'Përditëso fjalëkalimin',
    
    // Preferences
    preferencesTitle: 'Preferencat',
    preferencesDesc: 'Personalizoni përvojën tuaj të aplikacionit',
    language: 'Gjuha',
    selectLanguage: 'Zgjidh gjuhën',
    timezone: 'Zona kohore',
    selectTimezone: 'Zgjidh zonën kohore',
    dateFormat: 'Formati i datës',
    selectDateFormat: 'Zgjidh formatin e datës',
    currency: 'Monedha',
    selectCurrency: 'Zgjidh monedha',
    savePreferences: 'Ruaj preferencat',
    
    // Header
    logout: 'Dilni',
    
    // Toast messages
    settingsUpdated: 'Cilësimet u përditësuan',
    notificationSettingsSaved: 'Preferencat tuaja të njoftimeve u ruajtën.',
    passwordUpdated: 'Fjalëkalimi u përditësua',
    passwordChangedSuccess: 'Fjalëkalimi juaj u ndryshua me sukses.',
    preferencesUpdated: 'Preferencat u përditësuan',
    preferencesSaved: 'Preferencat tuaja u ruajtën.',
    error: 'Gabim',
    updateSettingsError: 'Dështoi përditësimi i cilësimeve. Ju lutemi provoni përsëri.',
    updatePasswordError: 'Dështoi përditësimi i fjalëkalimit. Ju lutemi provoni përsëri.',
    updatePreferencesError: 'Dështoi përditësimi i preferencave. Ju lutemi provoni përsëri.',
  },
};

interface TranslationContextType {
  t: (key: string) => string;
}

const TranslationContext = createContext<TranslationContextType | undefined>(undefined);

export function TranslationProvider({ children }: { children: React.ReactNode }) {
  const { 
    t, 
    changeLanguage, 
    getCurrentLanguage, 
    formatCurrency, 
    formatDate, 
    formatRelativeTime 
  } = useI18nTranslation();

  const value: TranslationContextType = {
    t,
    changeLanguage,
    getCurrentLanguage,
    formatCurrency,
    formatDate,
    formatRelativeTime,

  return (
    <TranslationContext.Provider value={value}>
      {children}
    </TranslationContext.Provider>
  );
}

export function useTranslation() {
  const context = useContext(TranslationContext);
  if (context === undefined) {
    throw new Error('useTranslation must be used within a TranslationProvider');
  }
  return context;
}